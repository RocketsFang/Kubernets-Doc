# Concepts Underlying the Cloud Controller Manager
## Cloud Controller Manager
起初云服务控制器管理器(CCM，与二进制安装模块不同)是设计被用来集成云服务特定代码但又和Kubernetes核心代码彼此之间独立。云服务控制器管理器和其他主要的模块
一起运行，比如：Kubernetes控制器管理器，APIServer，调度器。它也可以以Kubernetes插件方式运行于Kubernetes之上。

云服务控制器管理器是以插件方式设计的这样一来新的云服务提供商就能提供一个Kubernetes插件从而运行在Kubernetes里。 
这篇文档将讨论云服务控制器管理器背后的概念以及它的详细功能描述。我们先看看没有云服务管理器控制器的架构图：

## 设计
在以前的图例中，Kubernetes和云服务供应商是通过各种模块集成的：
* kubelet
* Kubernetes控制器管理器
* Kubernetes API Server

CCM着眼大局在之前的三个模块的基础之上创建了一个唯一的与云服务的集成点。 更新后的CCM是这样的

## CCM的模块
CCM将Kubernetes控制器管理器的功能分解开来，让他们在分离的进程中运行。 特别的是，他分解了Kubernetes控制器管理中和云服务有依赖的功能，如:
* 节点管理器
* 卷管理器
* 路由管理器
* 服务管理器

在1.9版本中， CCM之运行了以下的控制器：
* 节点管理器
* 路由管理器
* 服务管理器

另外，他还会去运行一个称为持久卷标签管理器。这个管理器负责给由GCP和AWS云服务供应商创建的持久卷设置地域和区域标签。
>注意 卷控制器是故意不被纳入CCM的。 由于复杂度和抽取供应商卷逻辑的工作量而不被CCM包含。  

最初使用CCM来支持卷是利用Flex卷以可插拔的方式支持。然而，考虑到投入后来用CSI替换了Flex。
正由于这些变数，我们决定用一个短期不支持的方式作为一个过渡方法指导CSI可以发布为止。

## CCM的功能
CCM继承了Kubernetes中和云服务供应商相关模块的功能。 这部分我们就来看看这个模块的结构。










































